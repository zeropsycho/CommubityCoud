<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zero.hjy.dao.ResidenceMapper">

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, residence_no, residence_name, floor_area, floorage, greenery_area, road_area, building_number, director, residence_address, developer_id,corporation_no
    </sql>

    <insert id="newResidence">
        insert INTO tab_residence
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="null != residenceNo and '' != residenceNo">residence_no,</if>
            <if test="null != residenceName and '' != residenceName">residence_name,</if>
            <if test="null != floorArea and '' != floorArea">floor_area,</if>
            <if test="null != floorage and '' != floorage">floorage,</if>
            <if test="null != greeneryArea and '' != greeneryArea">greenery_area,</if>
            <if test="null != roadArea and '' != roadArea">road_area,</if>
            <if test="null != buildingNumber and '' != buildingNumber">building_number,</if>
            <if test="null != director and '' != director">director,</if>
            <if test="null != residenceAddress and '' != residenceAddress">residence_address,</if>
            <if test="null != developerId and '' != developerId">developer_id,</if>
            <if test="null != corporationNo and '' != corporationNo">corporation_no,</if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="null != residenceNo and '' != residenceNo">#{residenceNo},</if>
            <if test="null != residenceName and '' != residenceName">#{residenceName},</if>
            <if test="null != floorArea and 0 != floorArea">#{floorArea},</if>
            <if test="null != floorage and 0 != floorage">#{floorage},</if>
            <if test="null != greeneryArea and 0 != greeneryArea">#{greeneryArea},</if>
            <if test="null != roadArea and '' != roadArea">#{roadArea},</if>
            <if test="null != buildingNumber and '' != buildingNumber">#{buildingNumber},</if>
            <if test="null != director and '' != director">#{director},</if>
            <if test="null != residenceAddress and '' != residenceAddress">#{residenceAddress},</if>
            <if test="null != developerId and '' != developerId">#{developerId},</if>
            <if test="null != corporationNo and '' != corporationNo">#{corporationNo},</if>
        </trim>
    </insert>
    
    <select id="checkCompanyNo" resultType="java.lang.Integer">
        SELECT COUNT(residence_no) FROM tab_residence
        WHERE residence_no = #{residenceNo}
    </select>
</mapper>
